# ๐ฉบ Healthy API - Service Health Checker in Go

ูพุฑูฺูโุง ุจุฑุง ุจุฑุฑุณ ุฏุฑ ุฏุณุชุฑุณ ุจูุฏู (Availability) ูุจโุณุฑูุณโูุง ุจู ุตูุฑุช ุฏูุฑูโุง ู ุงุฑุณุงู ูุดุฏุงุฑ ุงุฒ ุทุฑู ูพุงูฺฉ ุฏุฑ ุตูุฑุช ุจุฑูุฒ ูุดฺฉู.

---

## ๐ ุงูฺฉุงูุงุช ุงุตู

- ุจุฑุฑุณ ูุถุนุช ุณุฑูุณโูุง ูุดุฎุตโุดุฏู (HTTP Status Code)
- ููุท ุงุฒ ุทุฑู HTTPS
- ุงุฌุฑุง ุฏูุฑูโุง (Periodic)
- ูพุดุชุจุงู ุงุฒ Sleep ุจู ุฎุทุงูุง ุจุฑุง ุฌููฺฏุฑ ุงุฒ spam ุดุฏู
- ุงุฑุณุงู ูุดุฏุงุฑ ุจู ุดูุงุฑูโูุง ูุดุฎุตโุดุฏู ุงุฒ ุทุฑู ูพุงูฺฉ
- ูพุดุชุจุงู ุงุฒ ฺูุฏู ุณุฑูุณ ููโุฒูุงู (Multi-Service)
- ุณุงุฎุชุงุฑ ูุงุจู ฺฏุณุชุฑุดุ ุงูุนุทุงูโูพุฐุฑ ู ุชุณุชโูพุฐุฑ

---

## ๐ฆ ุณุงุฎุชุงุฑ ูพุฑูฺู

```bash
.
โโโ config/         # ููุทู ุจุงุฑฺฏุฐุงุฑ ฺฉุงููฺฏ YAML
โโโ healthcheck/    # ุงุฌุฑุง ุญูููโูุง ฺฺฉ ฺฉุฑุฏู ุณุฑูุณ
โโโ model/          # ุณุงุฎุชุงุฑูุง (structs) ุดุงูู Serviceุ Notificationุ Config
โโโ notifier/       # ุณุณุชู ุงุฑุณุงู ูพุงูฺฉ
โโโ main.go         # ููุทู ูุฑูุฏ CLI ุจุฑูุงูู
โโโ sample.yaml     # ูุงู ููููู ูพฺฉุฑุจูุฏ
```

---

## ๐๏ธ ูพุดโูุงุฒูุง

- Go 1.21+
- ุฏุณุชุฑุณ ุจู API ูพุงูฺฉ (ูุซู ippanel)

---

## โ๏ธ ุงุฌุฑุง ุจุฑูุงูู

```bash
go run main.go -config=sample.yaml
```

ุง ุจุนุฏ ุงุฒ build:

```bash
go build -o healthy-api
./healthy-api -config=sample.yaml
```

---

## ๐งพ ูุงูุจ ูุงู ูพฺฉุฑุจูุฏ (YAML)

```yaml
user: your_username_here
pass: your_password_here
services:
  - name: auth-service
    url: https://auth.example.com/health
    phones:
      - "+989123456789"
      - "+989987654321"
    check_period: 30        # ูุฑ ณฐ ุซุงูู ฺฉุจุงุฑ ฺฺฉ ฺฉู
    sleep_on_fail: 180      # ุงฺฏุฑ ุฏุงูู ุจูุฏุ ุชุง ณ ุฏููู ุฏฺฏู ฺฺฉ ูฺฉู
    expected_status_code: 200
  - name: payment-service
    url: https://pay.example.com/ping
    phones:
      - "+989123456789"
    check_period: 60
    sleep_on_fail: 300
    expected_status_code: 200
```

---

## ๐ค ุณุงุฎุชุงุฑ ููุชูฺฉุดู ูพุงูฺฉ

ุฏุฑ ุตูุฑุช ุฏุงูู ุจูุฏู ฺฉ ุณุฑูุณุ ูพุงู ุจุง ุงูฺฏู ูุดุฎุต ุจู ุดูุงุฑูโูุง ุชูุธูโุดุฏู ุงุฑุณุงู ูโุดูุฏ.  
ูพุดุชุจุงู ุงุฒ ฺูุฏ ุณุฑูุณ ูพุงูฺฉ ุฏุฑ ุขูุฏู ูุงุจู ุงูุฒูุฏู ุงุณุช.

---

## โ TODO / ููุดู ุฑุงู ุขูุฏู

- [ ] ุงูุฒูุฏู ุงูู ุจูโุฌุง ุง ููุฑุงู ุจุง ูพุงูฺฉ
- [ ] ุงุถุงูู ฺฉุฑุฏู context ุจุฑุง graceful shutdown
- [ ] ุชุณุช ููุช ุจุฑุง ูุงฺููโูุง healthcheck ู notifier
- [ ] ุงุถุงูู ฺฉุฑุฏู web UI ุจุฑุง ูุดุงูุฏู ูุถุนุช ุณุฑูุณโูุง
- [ ] ุงุณุชูุงุฏู ุงุฒ ฺฉ ูพุงฺฏุงู ุฏุงุฏู ุง ูุงู ุจุฑุง ุฐุฎุฑู ูุงฺฏโูุง

---

## ๐ค ูุดุงุฑฺฉุช

PR ู Issue ุฎูุดุญุงูโููู ูโฺฉูู :)  
ุจุฑุง ุชูุณุนู ฺฉุฏ ุณุน ฺฉู ุงุฒ ุงุตูู ุฒุฑ ูพุฑู ฺฉู:
- ุฑุนุงุช naming convention ูุง Go
- ุงุณุชูุงุฏู ุงุฒ context ู logger ูุง ูุงุจู ฺฉูุชุฑู
- ุทุฑุงุญ ุจุฑ ุงุณุงุณ interface

---

## ๐ ูุงุณูุณ

**mosTafa Arshadi**  
(ุจุง ุงูุชุฎุงุฑ ุชูุณุนู ุฏุงุฏู ุดุฏู ุจุฑุง ุงุฏฺฏุฑุ ุจูุฑูโูุฑ ู ูพุดุฑูุช ุชู โค๏ธ)